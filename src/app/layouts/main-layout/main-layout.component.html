<div class="main-layout-container" [class.mobile-menu-open]="isMobileMenuOpen">
  <!-- Mobile Menu Button -->
  <button
    class="mobile-menu-button"
    *ngIf="isMobileView"
    (click)="toggleMobileMenu()"
  >
    <mat-icon>{{ isMobileMenuOpen ? "close" : "menu" }}</mat-icon>
  </button>

  <!-- Overlay for mobile menu -->
  <div
    class="mobile-overlay"
    *ngIf="isMobileView && isMobileMenuOpen"
    (click)="closeMobileMenu()"
  ></div>

  <div class="sidebar" [class.mobile-open]="isMobileMenuOpen">
    <h3>
      <strong><em>Employee Manager</em></strong>
    </h3>
    <ul>
      <li>
        <a
          routerLink="/dashboard"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          (click)="closeMobileMenu()"
          *ngIf="userRole === 'Admin'"
        >
          <mat-icon>dashboard</mat-icon>
          <span>Dashboard</span>
        </a>
      </li>
      <!-- Admin Links -->
      <li *ngIf="userRole === 'Admin'">
        <a
          routerLink="/admin/employees"
          routerLinkActive="active"
          (click)="closeMobileMenu()"
        >
          <mat-icon>people</mat-icon>
          <span>Employee List</span>
        </a>
      </li>
      <li *ngIf="userRole === 'Admin'">
        <a
          routerLink="/admin/add-employee"
          routerLinkActive="active"
          (click)="closeMobileMenu()"
        >
          <mat-icon>person_add</mat-icon>
          <span>Add New Employee</span>
        </a>
      </li>
      <li *ngIf="userRole === 'Admin'">
        <a
          routerLink="/admin/attendance"
          routerLinkActive="active"
          (click)="closeMobileMenu()"
        >
          <mat-icon>event_note</mat-icon>
          <span>Attendance Management</span>
        </a>
      </li>
      <!-- Employee Links -->
      <li *ngIf="userRole === 'Employee'">
        <a
          routerLink="/employee/dashboard"
          routerLinkActive="active"
          (click)="closeMobileMenu()"
        >
          <mat-icon>dashboard</mat-icon>
          <span>Dashboard</span>
        </a>
      </li>
      <li *ngIf="userRole === 'Employee'">
        <a
          routerLink="/employee/profile"
          routerLinkActive="active"
          (click)="closeMobileMenu()"
        >
          <mat-icon>person</mat-icon>
          <span>View Profile</span>
        </a>
      </li>
    </ul>

    <div class="logout-button">
      <button (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span>Logout</span>
      </button>
    </div>
  </div>

  <div class="main-content" [class.mobile-menu-open]="isMobileMenuOpen">
    <router-outlet></router-outlet>
  </div>
</div>
