<div class="employee-list-container">
  <h2>Employee List</h2>

  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <div class="filter-controls">
    <label for="filter">Filter:</label>
    <input
      type="text"
      id="filter"
      (input)="applyFilter($event)"
      placeholder="Filter by name, email, etc."
    />
  </div>

  <div *ngIf="!errorMessage && employees.length > 0" class="employee-table">
    <table mat-table [dataSource]="employees" class="mat-elevation-z8">
      <!-- First Name Column -->
      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef>First Name</th>
        <td mat-cell *matCellDef="let employee">{{ employee.firstName }}</td>
      </ng-container>

      <!-- Last Name Column -->
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef>Last Name</th>
        <td mat-cell *matCellDef="let employee">{{ employee.lastName }}</td>
      </ng-container>

      <!-- Email Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>Email</th>
        <td mat-cell *matCellDef="let employee">{{ employee.email }}</td>
      </ng-container>

      <!-- Phone Number Column -->
      <ng-container matColumnDef="phoneNumber">
        <th mat-header-cell *matHeaderCellDef>Phone Number</th>
        <td mat-cell *matCellDef="let employee">{{ employee.phoneNumber }}</td>
      </ng-container>

      <!-- National ID Column -->
      <ng-container matColumnDef="nationalId">
        <th mat-header-cell *matHeaderCellDef>National ID</th>
        <td mat-cell *matCellDef="let employee">{{ employee.nationalId }}</td>
      </ng-container>

      <!-- Age Column -->
      <ng-container matColumnDef="age">
        <th mat-header-cell *matHeaderCellDef>Age</th>
        <td mat-cell *matCellDef="let employee">{{ employee.age }}</td>
      </ng-container>

      <!-- Role Column -->
      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef>Role</th>
        <td mat-cell *matCellDef="let employee">{{ employee.role }}</td>
      </ng-container>

      <!-- Actions Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let employee">
          <button
            mat-icon-button
            color="primary"
            (click)="editEmployee(employee.id)"
          >
            <mat-icon style="color: var(--primary-color)">edit</mat-icon>
          </button>
          <button
            mat-icon-button
            color="warn"
            (click)="deleteEmployee(employee.id)"
          >
            <mat-icon style="color: var(--primary-color)">delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>

  <div class="pagination-controls" *ngIf="!errorMessage && totalItems > 0">
    <span>Total Items: {{ totalItems }}</span>
    <div class="page-info">Page {{ currentPage }} of {{ totalPages }}</div>
    <div class="page-buttons">
      <button
        (click)="onPageChange(currentPage - 1)"
        [disabled]="currentPage === 1"
      >
        Previous
      </button>
      <button
        (click)="onPageChange(currentPage + 1)"
        [disabled]="currentPage === totalPages"
      >
        Next
      </button>
    </div>
    <div class="page-size">
      Items per page:
      <select
        (change)="onPageSizeChange($any($event.target).value)"
        [ngModel]="pageSize"
      >
        <option value="5">5</option>
        <option value="10">10</option>
        <option value="25">25</option>
        <option value="50">50</option>
      </select>
    </div>
  </div>

  <div *ngIf="!errorMessage && employees.length === 0 && totalItems === 0">
    <p>No employees found.</p>
  </div>
</div>
